#
# Copyright (c) 2020 Laird Connectivity
#
# It is provided "as is", without warranty/guarantee of any kind, express of
# implied, including but not limited to the warranties of merchantability,
# fitness for a particular purpose and non-infringement.
#

menu "Laird Connectivity Zephyr Components"
	 default y

config LCZ_QRTC
	bool "Enable the Quasi-RTC component"
	help
		Uses an offset with uptime to replicate functionality of an RTC

config LCZ_LED
	bool "Enable the LED component"
	help
		Simple on/off and pattern control for multiple LEDs.
		Doesn't use PWM.

config DEFAULT_LED_ON_TIME_FOR_1_SECOND_BLINK
	int "On time in milliseconds"
	range 1 999
	default 100

config DEFAULT_LED_OFF_TIME_FOR_1_SECOND_BLINK
	int "Off time in milliseconds"
	range 1 999
	default 900

config NUMBER_OF_LEDS
	int "Number of LEDS"
	depends on LCZ_LED
	default 4
	range 1 31

config LCZ_DNS
	bool "Wrapper for DNS resolver that provides retries and debug printing"
	depends on DNS_RESOLVER
	depends on NET_SOCKETS

config DNS_RESOLVER_ADDR_MAX_SIZE
	int
	default 24 if NET_IPV6
	default 16

config DNS_RETRIES
    int "Number of times to retry resolving server address"
	depends on LCZ_DNS
    default 1

config DNS_RETRY_DELAY_SECONDS
    int "Number of seconds to wait between resolution attempts"
	depends on LCZ_DNS
    default 5

config LCZ_HWREV
	bool "Enable Hardware Revision ID detection"
	depends on (BOARD_BT510)
	help
		Enable Hardware Revision ID checking.

# Splitting ADC and reset could make dependencies cleaner
# nothing else in zephyr wraps with CONFIG_REBOOT (mcumgr selects it).
config LCZ_POWER
	bool "Controls ADC and reset"
	select REBOOT

config LCZ_CUSTOM_FATAL_ERROR_HANDLER
	bool "Custom fatal error handler that resets on fatal error"
	depends on LCZ_POWER
	depends on !BT_LL_NRFXLIB_DEFAULT

config LCZ_ADC_SAMPLE_PERIOD
	int "Number of seconds in between ADC readings"
	depends on LCZ_POWER
	default 15

config LCZ_ADC_ALWAYS_SAMPLING
	bool "Keeps the ADC sampling always active regardless of BLE state"
	depends on LCZ_POWER
	default y

config LCZ_NFC
	bool "Enables NFC Support"
	select NFC_T2T_NRFXLIB
	select NFC_NDEF
	select NFC_NDEF_MSG
	select NFC_NDEF_RECORD
	select NFC_NDEF_LE_OOB_REC
	select NFC_NDEF_LE_OOB_REC_PARSER
	select NFC_NDEF_TEXT_RECORD
	select NFC_NDEF_URI_MSG
	select NFC_NDEF_URI_REC
	select NFC_NDEF_PARSER
	select NFC_NDEF_PAYLOAD_TYPE_COMMON
	select NFC_NDEF_TNEP_RECORD

if LCZ_NFC
config LCZ_NFC_REC1_STR
	string "NFC Record 1 String"
	default "https://apps.apple.com/us/app/laird-pinnacle-connect/id1481075861?ls=1"

config LCZ_NFC_REC2_STR
	string "NFC Record 2 String"
	default "http://play.google.com/store/apps/details?id=com.lairdconnect.pinnacle.connect"
endif

config LCZ_SOCK
	bool "Wrapper for single socket"
	depends on NET_SOCKETS
	depends on MBEDTLS_DTLS

config LCZ_SOCK_VERBOSE_POLL
	bool "Enable verbose logging for poll timeouts and wait complete"
	depends on LCZ_SOCK

config LCZ_SOCK_TIMING
	bool "Enable verbose logging for poll timeouts and wait complete"
	depends on LCZ_SOCK

config LCZ_RESET_ON_EXIT
	bool "Reset when exit is called"
	depends on REBOOT
	help
		Default Zephyr behavior is to wait forever.

rsource "Kconfig.lcz_params"

endmenu
